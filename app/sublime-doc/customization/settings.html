<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>设置</title>
	<link rel="stylesheet" href="../main.css">
</head>
<body>
	<h1>设置</h1>
	<p>Sublime Text使用<code>.sublime-settings</code>文件存储配置数据。灵活性带来的代价是，一个稍微复杂的应用设置的系统。然而，这里有一些粗略而简便的方法：</p>
	<p>总是将你的个人设置文件放置在<code>Packages/User</code>下，以保证他们的优先级大于任何其它冲突的设置文件。</p>
	<p>有了这些方法，为了受虐狂读者的乐趣，让我们揭开设置怎样工作的神秘面纱。</p>
	<h2>格式</h2>
	<p>设置文件使用JSON格式，扩展名为<code>.sublime-settings</code></p>
	<h2>设置的类型</h2>
	<p>每个<code>.sublime-settings</code>文件的目标由它的名称决定。这些名称可以是描述性的(像<code>Preferences (Windows).sublime-settings</code>或者<code>Minimap.sublime-settings</code>),或者它们可以是与设置文件控制的选项相关的。例如，文件类型设置需要获得<code>.tmLanguage</code>关于文件类型的语法定义的名称。因此，对于<code>.py</code>文件类型，它们的语法定义包含在<code>Python.tmLanguage</code>中，对应的设置文件会被称作<code>Python.sublime-setting</code></p>
	<p>另外，一些设置文件只应用到特定的平台。这可以从文件名中推断出来，例如<code>Preferences (platform).sublime-settings</code>。有效的平台名称是<code>windows</code><code>Linux</code><code>OS X</code>。</p>
	<p>这很重要：<code>Packages/User</code>文件夹中平台特有的设置文件是被忽略的。这样，你可以确定一个单独的设置文件能覆盖其它所有文件。</p>
	<p>设置的改变通常是实时更新的，但是你可能不得不重启Sublime Text以便加载新的设置文件。</p>
	<h2>怎样访问和编辑通用设置文件</h2>
	<p>除非你需要非常细颗粒的控制设置，你可以通过<span class="menu">Preferences | Settings - User</span>和<span class="menu">Preferences | Settings - More</span>菜单项来访问主配置文件。你不应该编辑<span class="menu">Preferences | Settings - Default</span>，因为所做的改变会被软件的每次更新恢复。然而，你可以使用那个文件作为参考：它包含注释，解释了所有可用的全局和文件类型设置的用途。</p>
	<h2>.sublime-settings文件的优先级</h2>
	<p>相同的设置文件(例如<code>Python.sublime-settings</code>)可以出现在不同的地方。定义在同一名称文件中的所有设置会被合并在一起并且基于预定义的规则被覆盖。更多信息请看<a href="packages.html">合并与优先级</a></p>
	<p>让我们再次记住，任何<code>Packages/User</code>中的给定设置文件最终会覆盖相同名称文件中的所有其他的设置。</p>
	<p>除了设置文件，Sublime Text维护着会话数据-当前正在编辑的一组特殊文件的设置。当你在文件上工作的时候，会话数据被更新，所以如果你以任何方式调整某个特殊文件的设置的时候(主要通过API调用)，它们会被记录在会话中并且优先级超过任何可用的.sublime-settings文件。</p>
	<p>要检查某个特殊文件设置的当前值，从控制台使用<code>view.settings().get("setting_name")</code>。</p>
	<p>最后，值得一担的是一些设置可能自动调整。如果你为某些设置的值大伤脑筋的时候把这个记在心里。例如，某个空格相关的设置和<code>syntax</code>设置的情况。</p>
	<p>查看<a href="#hierarchy">设置层级</a>以获得会选级的完整示例。</p>
	<h2>全局编辑器设置和全局文件设置</h2>
	<p>这些设置存储在文件:<code>preferences.sublime-settings</code>和<code>Preferences(platform).sublime-settings</code>文件。默认设置可以在<code>Packages/Default</code>中找到。</p>
	<p>有效的平台名称是<code>Windows</code>，<code>Linux</code>，<code>OS X</code>。</p>
	<h2>文件类型设置</h2>
	<p>如果你想要把一个特定的文件类型当作目标，将<code>.sublime-settings</code>文件命名在文件类型的语法定义之后。例如，如果我们的语法定义叫做<code>Python.tmLanguage</code>,我们需要把我们的设置文件叫做<code>Python.sublime-settings</code></p>
	<p>特定文件类型的设置文件通常放在包中，像<code>Package/Python</code>,但是在不同位置可以有同一文件类型的多个设置文件。</p>
	<p>与全局设置类似，可以为文件类型创建平台特有的设置。例如，<code>Python(Linux).sublime-settings</code>只在Linux下被查阅。</p>
	<p>而且，让我们强调一下，在<code>Packages/User</code>下，只有<code>Python.sublime-settings</code>会被读取，不是任何<code>Python(platform).sublime-settings</code>的变体。</p>
	<p>不管其位置，任何文件-类型-特定的设置文件在影响同一种文件类型方面拥有超过全局设置文件的优先级。</p>
	<h2 id="hierarchy">设置层级</h2>
	<p>下面，你可以看到在Windows上，Sublime Text处理一个Python文件设置项的假设层级的顺序。</p>
	<ul>
		<li><code>Packages/Default/Preferences.sublime-settings</code></li>
		<li><code>Packages/Default/Preferences (Windows).sublime-settings</code></li>
		<li><code>Packages/AnyOtherPackage/Preferences.sublime-settings</code></li>
		<li><code>Packages/AnyOtherPackage/Preferences (Windows).sublime-settings</code></li>
		<li><code>Packages/User/Preferences.sublime-settings</code></li>
		<li>来自当前项目的设置</li>
		<li><code>Packages/Python/Python.sublime-settings</code></li>
		<li><code>Packages/Python/Python (Windows).sublime-settings</code></li>
		<li><code>Packages/User/Python.sublime-settings</code></li>
		<li>当前文件的会话数据</li>
		<li>自动调整设置</li>
	</ul>
	<h2>在哪存储用户设置(再一次)</h2>
	<p>无论什么时候你想要保存设置，尤其如果它们应该在软件更新后被保留，将对应的<code>.sublime-settings</code>文件放在<code>Packages/User</code></p>
</body>
</html>