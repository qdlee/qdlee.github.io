function initial(){mask=document.getElementById("mask"),mLogin=document.getElementById("mLogin"),dWidth=window.innerWidth,dHeight=window.innerHeight}function registerEvent(){var a=document.getElementById("login");a.addEventListener("click",showMask);var b=document.getElementById("closeW");b.addEventListener("click",hideMask),mLogin.getElementsByTagName("div")[0].addEventListener("mousedown",addDragEvent),document.body.addEventListener("mouseup",removeDragEvent)}function setPosition(){var a=(dWidth-lWidth)/2,b=(dHeight-lHeight)/2;mLogin.style.top=b+"px",mLogin.style.left=a+"px"}function showMask(){mask.className="showM",setPosition(),mLogin.className="showL"}function hideMask(){mask.className="hideM",mLogin.className="hideL"}function addDragEvent(a){x=a.clientX,y=a.clientY,document.body.addEventListener("mousemove",move),document.body.onselectstart=function(){return!1}}function removeDragEvent(){document.body.removeEventListener("mousemove",move),document.body.onselectstart=null}function move(a){var b=a.clientX,c=a.clientY,d=b-x,e=c-y;x=b,y=c;var f=mLogin.offsetTop,g=mLogin.offsetLeft,h=f+e,i=g+d;0>h&&(h=0),h>dHeight-lHeight&&(h=dHeight-lHeight+"px"),0>i&&(i=0),i>dWidth-lWidth&&(i=dWidth-lWidth+"px"),mLogin.style.top=h+"px",mLogin.style.left=i+"px"}var mask,mLogin,x,y,dWidth,dHeight,lWidth=530,lHeight=290;window.onload=function(){initial(),registerEvent()};